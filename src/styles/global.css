@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   T006: M3 Color CSS Custom Properties - Light Mode
   ============================================ */
:root {
  /* Primary */
  --md-sys-color-primary: #1976D2;
  --md-sys-color-on-primary: #FFFFFF;
  --md-sys-color-primary-container: #D1E4FF;
  --md-sys-color-on-primary-container: #001D35;

  /* Secondary */
  --md-sys-color-secondary: #535F70;
  --md-sys-color-on-secondary: #FFFFFF;
  --md-sys-color-secondary-container: #D7E3F8;
  --md-sys-color-on-secondary-container: #101C2B;

  /* Tertiary */
  --md-sys-color-tertiary: #6B5778;
  --md-sys-color-on-tertiary: #FFFFFF;
  --md-sys-color-tertiary-container: #F3DAFF;
  --md-sys-color-on-tertiary-container: #251431;

  /* Error */
  --md-sys-color-error: #BA1A1A;
  --md-sys-color-on-error: #FFFFFF;
  --md-sys-color-error-container: #FFDAD6;
  --md-sys-color-on-error-container: #410002;

  /* Surface */
  --md-sys-color-surface: #F8F9FF;
  --md-sys-color-on-surface: #191C20;
  --md-sys-color-surface-variant: #DFE2EB;
  --md-sys-color-on-surface-variant: #43474E;

  /* Outline */
  --md-sys-color-outline: #73777F;
  --md-sys-color-outline-variant: #C3C6CF;

  /* Inverse (for Snackbar) */
  --md-sys-color-inverse-surface: #2E3135;
  --md-sys-color-inverse-on-surface: #F0F1F5;
  --md-sys-color-inverse-primary: #90CAF9;

  /* Scrim (for Dialog overlay) */
  --md-sys-color-scrim: #000000;

  /* Surface Container (for elevated surfaces) */
  --md-sys-color-surface-container-high: #E6E8EE;
}

/* ============================================
   T007: M3 Color CSS Custom Properties - Dark Mode
   ============================================ */
.dark {
  /* Primary */
  --md-sys-color-primary: #90CAF9;
  --md-sys-color-on-primary: #003258;
  --md-sys-color-primary-container: #004881;
  --md-sys-color-on-primary-container: #D1E4FF;

  /* Secondary */
  --md-sys-color-secondary: #BBC7DB;
  --md-sys-color-on-secondary: #263141;
  --md-sys-color-secondary-container: #3C4858;
  --md-sys-color-on-secondary-container: #D7E3F8;

  /* Tertiary */
  --md-sys-color-tertiary: #D7BDE4;
  --md-sys-color-on-tertiary: #3D2948;
  --md-sys-color-tertiary-container: #55405F;
  --md-sys-color-on-tertiary-container: #F3DAFF;

  /* Error */
  --md-sys-color-error: #FFB4AB;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000A;
  --md-sys-color-on-error-container: #FFDAD6;

  /* Surface */
  --md-sys-color-surface: #0A0D10; /* Even darker gray */
  --md-sys-color-on-surface: #F0F1F5; /* Slightly brighter white */
  --md-sys-color-surface-variant: #42474E;
  --md-sys-color-on-surface-variant: #C2C6CF;

  /* Outline */
  --md-sys-color-outline: #8C9199;
  --md-sys-color-outline-variant: #42474E;

  /* Inverse (for Snackbar) */
  --md-sys-color-inverse-surface: #E2E2E6;
  --md-sys-color-inverse-on-surface: #2F3033;
  --md-sys-color-inverse-primary: #0060A8;

  /* Scrim (for Dialog overlay) */
  --md-sys-color-scrim: #000000;

  /* Surface Container (for elevated surfaces) */
  --md-sys-color-surface-container-high: #252629;
}

/* ============================================
   T008: High Contrast Mode (prefers-contrast: more)
   ============================================ */
@media (prefers-contrast: more) {
  :root {
    --md-sys-color-outline: #000000;
    --md-sys-color-on-surface: #000000;
    --md-sys-color-on-surface-variant: #000000;
    --md-sys-color-primary: #0D47A1;
  }

  .dark {
    --md-sys-color-outline: #FFFFFF;
    --md-sys-color-on-surface: #FFFFFF;
    --md-sys-color-on-surface-variant: #FFFFFF;
    --md-sys-color-primary: #BBDEFB;
  }
}

/* ============================================
   T009: M3 State Layer Base Classes
   ============================================ */
.m3-state-layer {
  position: relative;
  overflow: hidden;
}

.m3-state-layer::before {
  content: '';
  position: absolute;
  inset: 0;
  background: currentColor;
  opacity: 0;
  transition: opacity 150ms ease;
  pointer-events: none;
  border-radius: inherit;
}

.m3-state-layer:hover::before {
  opacity: 0.08;
}

.m3-state-layer:focus-visible::before {
  opacity: 0.12;
}

.m3-state-layer:active::before {
  opacity: 0.12;
}

/* M3 Outlined Input Style */
.m3-outlined-input {
  border: 1px solid var(--md-sys-color-outline);
  border-radius: 4px;
  padding: 16px;
  min-height: 48px;
  background: transparent;
  color: var(--md-sys-color-on-surface);
  transition: border-color 150ms ease, border-width 150ms ease;
}

.m3-outlined-input:focus {
  border-color: var(--md-sys-color-primary);
  border-width: 2px;
  padding: 15px;
  outline: none;
}

.m3-outlined-input::placeholder {
  color: var(--md-sys-color-on-surface-variant);
}

/* T019: M3 Focus Ring for inputs (enhanced) */
.m3-outlined-input:focus-visible {
  box-shadow: 0 0 0 2px var(--md-sys-color-primary);
}

/* ============================================
   T022: Optional Ripple Effect Utility
   ============================================ */
.m3-ripple {
  position: relative;
  overflow: hidden;
}

.m3-ripple::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  background-image: radial-gradient(circle, var(--md-sys-color-primary) 10%, transparent 10.01%);
  background-repeat: no-repeat;
  background-position: 50%;
  transform: scale(10, 10);
  opacity: 0;
  transition: transform 0.5s, opacity 0.5s;
}

.m3-ripple:active::after {
  transform: scale(0, 0);
  opacity: 0.2;
  transition: 0s;
}
